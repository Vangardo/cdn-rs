use once_cell::sync::Lazy;
use rand::Rng;

static PROXIES: Lazy<Vec<&'static str>> = Lazy::new(|| {
    vec![
        "139.180.228.84:3128",
        "139.60.101.44:3128",
        "152.44.105.15:3128",
        "152.44.99.18:3128",
        "168.91.37.21:3128",
        "172.96.81.18:3128",
        "192.171.80.11:3128",
        "198.154.82.178:3128",
        "198.20.174.106:3128",
        "209.163.119.53:3128",
        "209.251.16.22:3128",
        "216.213.26.48:3128",
        "23.236.227.187:3128",
        "67.216.237.15:3128",
        "139.180.6.2:3128",
        "141.164.86.109:3128",
        "141.164.90.51:3128",
        "147.92.52.10:3128",
        "147.92.54.19:3128",
        "149.20.247.16:3128",
        "152.44.110.16:3128",
        "167.160.72.0:3128",
        "168.91.38.68:3128",
        "168.91.44.162:3128",
        "172.81.113.48:3128",
        "172.96.82.17:3128",
        "172.96.94.20:3128",
        "192.171.81.62:3128",
        "192.171.84.28:3128",
        "192.177.159.132:3128",
        "23.229.53.232:3128",
        "23.236.233.178:3128",
        "38.154.173.7:3128",
        "67.226.219.19:3128",
        "68.234.44.17:3128",
        "69.58.70.110:3128",
        "72.14.95.43:3128",
    ]
});

pub fn random_proxy() -> Option<String> {
    if PROXIES.is_empty() {
        return None;
    }
    let idx = rand::thread_rng().gen_range(0..PROXIES.len());
    Some(format!("http://{}", PROXIES[idx]))
}
